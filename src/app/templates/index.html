<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../static/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../static/script.js" defer ></script>
</head>
<body>
  <h1>EaseML</h1>

  <div id="parameter_controls">
    <div>
      <label for="batch_size_slider">Batch Size:</label>
      <input type="range" id="batch_size_slider" name="batch_size" min="1" max="512" value="256">
      <span id="batch_size_value">256</span>
    </div>
    <div>
      <label for="learning_rate_slider">Learning Rate:</label>
      <input type="range" id="learning_rate_slider" name="learning_rate" min="0.01" max="1" step="0.01" value="0.3">
      <span id="learning_rate_value">0.3</span>
    </div>
    <button id="update_params_btn">Update Parameter Changes</button>
  </div>
  

  <div>
    <button id="start_training">Start training</button>
    <button id="stop_training">Stop</button>
    <button id="continue_training">Continue</button>
  </div>

  <div class="monitor-container">

    <div  class="chart-container">
      <canvas id="lossChart" width="100px" height="100px"></canvas>
    </div>

    <div  class="chart-container">
      <canvas id="accuracyChart" width="100px" height="100px"></canvas>
    </div>

</div>


  
  <div> 
    <p>Current accuracy: <span id="accuracy">0 test</span></p>
    <div id="current_parameters">
      <p>Current Batch Size: <span id="current_batch_size">N/A</span></p>
      <p>Current Learning Rate: <span id="current_learning_rate">N/A</span></p>
    </div>
  
  </div>

  <script src="../static/script.js" defer ></script>
  <script>
    window.onload = function() {
        let newParams = {
        "optimizer_params": {
            "type": "SGD", // Assuming 'SGD' is your desired optimizer
            "args": {
                "lr": parseFloat(learning_rate_slider.value),
                "momentum": 0.5
                // Add any other arguments your optimizer requires
                // "momentum": <value>
            }
        },
        "batch_size": parseInt(batch_size_slider.value)
        };
        updateTrainingParams(newParams); // Initialize parameter config
    };
  </script>

</body>
</html>